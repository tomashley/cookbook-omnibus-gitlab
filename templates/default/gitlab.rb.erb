# Generated by Chef for <%= node['fqdn'] %>
# Do not edit by hand, your changes will be reverted!

external_url <%= single_quote @gitlab_rb['external_url'] %>
mattermost_external_url <%= single_quote @gitlab_rb['mattermost_external_url'] %>
pages_external_url <%= single_quote @gitlab_rb['pages_external_url'] %>
registry_external_url <%= single_quote @gitlab_rb['registry_external_url'] %>

<% if @gitlab_rb['git_data_dirs'] %>
git_data_dirs({<% @gitlab_rb['git_data_dirs'].each do |key, value| %>
  "<%= key %>" => <%= value.inspect %>,
  <% end %>})
<% end %>

<% %w{
bootstrap
omnibus-gitconfig
manage-accounts
manage-storage-directories
user
redis
gitlab-rails
gitlab-ci
gitlab-shell
unicorn
sidekiq
gitlab-git-http-server
gitlab-workhorse
mailroom
nginx
mattermost-nginx
pages-nginx
registry-nginx
logging
remote-syslog
logrotate
high-availability
postgresql
web-server
mattermost
gitlab-pages
registry
sentinel
redis_master_role
redis_slave_role
redis_sentinel_role
sidekiq-cluster
gitaly
prometheus
node_exporter
redis_exporter
postgres_exporter
gitlab_monitor
  }.each do |svc| %>
<%   if @gitlab_rb[svc] %>

<%     @gitlab_rb[svc].each do |key, value| %>
<%=      svc.gsub('-', '_') %>['<%= key %>'] = <%= value.inspect %>
<%     end %>
<%   end %>
<% end %>
